<?php

declare(strict_types=1);

namespace App\Domain\Telegram\Command\Telegram\Marriage\Messages;

use App\Infrastructure\Doctrine\Entity\TelegramUser;
use Telegram\Bot\Api;

final readonly class SendKrasnodarInfoMessage
{
    public function __construct() {}

    public function handleDirectly(Api $telegram, TelegramUser $telegramUser): void
    {
        try {
            $telegram->sendMessage([
                'chat_id' => $telegramUser->getChatId(),
                'parse_mode' => 'HTML',
                'text' => sprintf(
                    <<<'TXT'
                <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—É:</b>
                
                üìç –ê–¥—Ä–µ—Å –º–æ–ª–æ–¥–æ–∂—ë–Ω–æ–≤:
                - —É–ª. –ñ–ª–æ–±—ã, 141, –ø–æ–¥—ä–µ–∑–¥ 2
                
                üõí –ë–ª–∏–∂–∞–π—à–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã –∏ –¢–¶:
                - –¢–¶ ¬´–°–ë–°¬ª (5 –∫–º) ‚Äì –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∏ –∫–∞—Ñ–µ.
                - –¢–¶ ¬´–ì–∞–ª–µ—Ä–µ—è¬ª (7 –∫–º) ‚Äì —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã, –±—É—Ç–∏–∫–∏. –¶–µ–Ω—Ç—Ä –ì–æ—Ä–æ–¥–∞.
                - –ú–∞–≥–Ω–∏—Ç, –ü—è—Ç—ë—Ä–æ—á–∫–∞ ‚Äì —Ä—è–¥–æ–º —Å –¥–æ–º–æ–º.

                üå≥ –ü–∞—Ä–∫–∏ –∏ –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫:
                - –ü–∞—Ä–∫ –ì–∞–ª–∏—Ü–∫–æ–≥–æ (–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä), –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–∫ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ (—Ä—è–¥–æ–º —Å –¥–æ–º–æ–º –º–æ–ª–æ–¥–µ–∂—ë–Ω–æ–≤).
                - –ü–∞—Ä–∫ ¬´–°–æ–ª–Ω–µ—á–Ω—ã–π –æ—Å—Ç—Ä–æ–≤¬ª.

                üè® –ì–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è?
                - –†—è–¥–æ–º —Å –¥–æ–º–æ–º –º–æ–ª–æ–¥–æ–∂—ë–Ω–æ–≤ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∫–≤–∞—Ä—Ç–∏—Ä –∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤ –ø–æ —Å—É—Ç–æ—á–Ω–æ. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫–∞–∫–∞—è-—Ç–æ –ø–æ–º–æ—â—å —Å –ø–æ–∏—Å–∫–æ–º –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø–∏—à–∏—Ç–µ.
                TXT,
                ),
            ]);
        } catch (\Exception $e) {
            $telegram->sendMessage([
                'chat_id' => $telegramUser->getChatId(),
                'text' => '–û—Ç–ª–∞–¥–∫–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–Ω–æ–ø–∫–∏: ' . $e->getMessage(),
            ]);
        }
    }
}
